# Variables d'environnement pour LinShare

# Ce fichier contient toutes les variables nécessaires pour déployer LinShare
# Copiez ce fichier vers .env et personnalisez les valeurs

# =============================================================================
# BASE DE DONNÉES
# =============================================================================

# PostgreSQL
LINSHARE_DB_PASSWORD=ChangeMePostgreSQL123!
POSTGRES_HOST=linshare-db
POSTGRES_PORT=5432
POSTGRES_DATABASE=linshare
POSTGRES_USER=linshare

# MongoDB
LINSHARE_MONGO_PASSWORD=ChangeMeMongoDB456!
MONGODB_HOST=linshare-mongodb
MONGODB_PORT=27017
MONGODB_DATABASE=linshare
MONGODB_USER=linshare
MONGODB_AUTH_SOURCE=linshare
MONGODB_DATA_REPLICA_SET=
MONGODB_SMALLFILES_REPLICA_SET=

# =============================================================================
# KEYCLOAK OIDC
# =============================================================================

# Récupérer ces valeurs depuis environments/prod/.env
DOMAIN=example.com
KEYCLOAK_ISSUER=https://keycloak.example.com/realms/enterprise

# Client OIDC LinShare (à créer dans Keycloak)
LINSHARE_OIDC_CLIENT_ID=linshare
LINSHARE_OIDC_CLIENT_SECRET=change-me-from-keycloak

# =============================================================================
# GROUPES KEYCLOAK
# =============================================================================

# Groupes pour gestion des rôles
LINSHARE_ADMIN_GROUP=GG-POM-ADMINS
LINSHARE_USER_GROUP=GG-POM-USERS
LINSHARE_POWER_USER_GROUP=GG-POM-LINSHARE-ADVANCED

# =============================================================================
# CONFIGURATION GÉNÉRALE
# =============================================================================

# Email administrateur
LINSHARE_ADMIN_EMAIL=admin@example.com

# URL publique LinShare
LINSHARE_URL=https://linshare.example.com

# =============================================================================
# LIMITES ET QUOTAS
# =============================================================================

# Taille maximale d'un fichier (en octets)
# 100 MB par défaut
LINSHARE_MAX_FILE_SIZE=104857600

# Quota par défaut pour un utilisateur (en octets)
# 10 GB par défaut
LINSHARE_QUOTA_DEFAULT=10737418240

# Types MIME autorisés (vide = tous autorisés)
# Exemple: application/pdf,image/jpeg,image/png
LINSHARE_ALLOWED_MIME_TYPES=

# =============================================================================
# SMTP (OPTIONNEL - pour notifications)
# =============================================================================

# Serveur SMTP
LINSHARE_SMTP_HOST=smtp.example.com
LINSHARE_SMTP_PORT=587
LINSHARE_SMTP_USER=linshare@example.com
LINSHARE_SMTP_PASSWORD=change-me-smtp
LINSHARE_SMTP_FROM=noreply@example.com

# Activer TLS
SMTP_TLS=true
SMTP_AUTH=true

# Relai SMTP (si besoin)
SMTP_RELAY_HOST=
SMTP_RELAY_PORT=
SMTP_RELAY_USER=
SMTP_RELAY_PASSWORD=

# =============================================================================
# PORTS EXPOSÉS
# =============================================================================

# Ports sur l'hôte
LINSHARE_USER_PORT=8082
LINSHARE_ADMIN_PORT=8083

# =============================================================================
# SERVICES
# =============================================================================

# ClamAV
CLAMAV_HOST=linshare-antivirus
CLAMAV_PORT=3310

# Thumbnail service
THUMBNAIL_HOST=linshare-thumbnail
THUMBNAIL_PORT=8080
